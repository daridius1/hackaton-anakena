{% extends 'base.html' %}

{% block title %}Video Generado - {{ metadata.titulo|default:"Cuento Infantil" }}{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto fade-in">
    
    <!-- Success Banner -->
    <div class="bg-green-100 border-l-4 border-green-500 text-green-700 p-4 mb-8 rounded-lg">
        <div class="flex items-center">
            <span class="text-2xl mr-3">âœ…</span>
            <div>
                <p class="font-bold">Â¡Video generado exitosamente!</p>
                <p class="text-sm">Tu cuento educativo estÃ¡ listo para ver</p>
            </div>
        </div>
    </div>
    
    <!-- Video Info -->
    {% if metadata %}
    <div class="bg-white rounded-xl shadow-lg p-6 mb-6">
        <h2 class="text-2xl font-bold text-gray-800 mb-2">{{ metadata.titulo }}</h2>
        <div class="flex items-center space-x-4 text-sm text-gray-600">
            <span>ğŸ“– Moraleja: {{ metadata.moraleja }}</span>
            <span>â±ï¸ DuraciÃ³n: {{ metadata.duracion }}</span>
            <span>ğŸ¬ Escenas: {{ metadata.num_escenas }}</span>
        </div>
    </div>
    {% endif %}
    
    <!-- Video Player -->
    <div class="bg-white rounded-2xl shadow-2xl overflow-hidden mb-8">
        <video 
            controls 
            class="w-full"
            autoplay
        >
            <source src="{{ video_url }}" type="video/mp4">
            Tu navegador no soporta el elemento de video.
        </video>
    </div>
    
    <!-- Actions -->
    <div class="flex items-center justify-center space-x-4 mb-8">
        <a 
            href="{{ video_url }}" 
            download="{{ video_id }}.mp4"
            class="bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition flex items-center space-x-2"
        >
            <span>ğŸ“¥</span>
            <span>Descargar Video</span>
        </a>
        
        <a 
            href="{% url 'webapp:index' %}"
            class="bg-purple-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-purple-700 transition flex items-center space-x-2"
        >
            <span>ğŸ¬</span>
            <span>Generar Otro Video</span>
        </a>
    </div>
    
    <!-- Share -->
    <div class="bg-gradient-to-r from-purple-100 to-pink-100 rounded-xl p-6 text-center">
        <p class="text-gray-700 font-semibold mb-2">Â¿Te gustÃ³ el resultado?</p>
        <p class="text-sm text-gray-600">Comparte este cuento educativo con niÃ±os de 5-8 aÃ±os</p>
    </div>
    
</div>
{% endblock %}
